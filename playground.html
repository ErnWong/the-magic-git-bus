<!DOCTYPE html>
<html>
    <head>
        <script src="https://cdn.jsdelivr.net/npm/elkjs@0.11.0/lib/elk.bundled.js"></script>
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/kneedeepincode/fsex-webfont@v1.0.1/fsex300.css">
        <style>
            svg * {
                shape-rendering: crispEdges;
            }
        </style>
    </head>
    <body>
        <div id="graph"></div>
        <script type="module">
            import visualize from './client/visualize.js';
            const decoder = new TextDecoder();

            // const objects = [{"object":{"message":"My first commit\n","parent":[],"tree":"6db497f8ca5a8bf50591fd13beb12fc66dff1d31","author":{"name":"Waylon Smithers","email":"mr@smithers.invalid","timestamp":1762902000,"timezoneOffset":-780},"committer":{"name":"Charles Montgomery Plantagenet Schicklgruber Burns","email":"mr@burns.invalid","timestamp":1762902000,"timezoneOffset":-780}},"format":"parsed","source":"objects/02/cbc162b0a74f3cbb90c6c7bcf7387b3033015b","type":"commit","oid":"02cbc162b0a74f3cbb90c6c7bcf7387b3033015b"},{"object":new Uint8Array({"0":109,"1":111,"2":100,"3":105,"4":102,"5":105,"6":101,"7":100,"8":10, length:9}),"format":"content","source":"objects/2e/0996000b7e9019eabcad29391bf0f5c7702f0b","type":"blob","oid":"2e0996000b7e9019eabcad29391bf0f5c7702f0b"},{"object":new Uint8Array({"0":102,"1":111,"2":111,"3":98,"4":97,"5":114,"6":10, length:7}),"format":"content","source":"objects/32/3fae03f4606ea9991df8befbb2fca795e648fa","type":"blob","oid":"323fae03f4606ea9991df8befbb2fca795e648fa"},{"object":new Uint8Array({"0":104,"1":101,"2":108,"3":108,"4":111,"5":32,"6":119,"7":111,"8":114,"9":108,"10":100,"11":10, length: 12}),"format":"content","source":"objects/3b/18e512dba79e4c8300dd08aeb37f8e728b8dad","type":"blob","oid":"3b18e512dba79e4c8300dd08aeb37f8e728b8dad"},{"object":[{"mode":"040000","path":"folder","oid":"974cd135eb6c4da9d3f14e1de564f76a8a07234e","type":"tree"},{"mode":"100644","path":"myfile.txt","oid":"3b18e512dba79e4c8300dd08aeb37f8e728b8dad","type":"blob"},{"mode":"100644","path":"otherfile.txt","oid":"323fae03f4606ea9991df8befbb2fca795e648fa","type":"blob"}],"format":"parsed","source":"objects/48/6a17fba0168a9242e39931c2b0233ada6a9671","type":"tree","oid":"486a17fba0168a9242e39931c2b0233ada6a9671"},{"object":[{"mode":"040000","path":"folder","oid":"8209f53524b4818a6d18424613de08c1c6552f11","type":"tree"},{"mode":"100644","path":"myfile.txt","oid":"3b18e512dba79e4c8300dd08aeb37f8e728b8dad","type":"blob"},{"mode":"100644","path":"otherfile.txt","oid":"323fae03f4606ea9991df8befbb2fca795e648fa","type":"blob"}],"format":"parsed","source":"objects/6d/b497f8ca5a8bf50591fd13beb12fc66dff1d31","type":"tree","oid":"6db497f8ca5a8bf50591fd13beb12fc66dff1d31"},{"object":{"message":"Second commit!\n","parent":["02cbc162b0a74f3cbb90c6c7bcf7387b3033015b"],"tree":"486a17fba0168a9242e39931c2b0233ada6a9671","author":{"name":"Charles Montgomery Plantagenet Schicklgruber Burns","email":"mr@burns.invalid","timestamp":1762902000,"timezoneOffset":-780},"committer":{"name":"Charles Montgomery Plantagenet Schicklgruber Burns","email":"mr@burns.invalid","timestamp":1762902000,"timezoneOffset":-780}},"format":"parsed","source":"objects/70/4cad9af4578d8f3248fe4c4e044014322f1154","type":"commit","oid":"704cad9af4578d8f3248fe4c4e044014322f1154"},{"object":[{"mode":"100644","path":"copy.txt","oid":"3b18e512dba79e4c8300dd08aeb37f8e728b8dad","type":"blob"}],"format":"parsed","source":"objects/82/09f53524b4818a6d18424613de08c1c6552f11","type":"tree","oid":"8209f53524b4818a6d18424613de08c1c6552f11"},{"object":[{"mode":"100644","path":"copy.txt","oid":"2e0996000b7e9019eabcad29391bf0f5c7702f0b","type":"blob"}],"format":"parsed","source":"objects/97/4cd135eb6c4da9d3f14e1de564f76a8a07234e","type":"tree","oid":"974cd135eb6c4da9d3f14e1de564f76a8a07234e"}];
            // const objects = [{"object":{"message":"My first commit\n","parent":[],"tree":"6db497f8ca5a8bf50591fd13beb12fc66dff1d31","author":{"name":"Waylon Smithers","email":"mr@smithers.invalid","timestamp":1762902000,"timezoneOffset":-780},"committer":{"name":"Charles Montgomery Plantagenet Schicklgruber Burns","email":"mr@burns.invalid","timestamp":1762902000,"timezoneOffset":-780}},"format":"parsed","source":"objects/02/cbc162b0a74f3cbb90c6c7bcf7387b3033015b","type":"commit","oid":"02cbc162b0a74f3cbb90c6c7bcf7387b3033015b"},{"object":{"message":"Third commit\n","parent":["704cad9af4578d8f3248fe4c4e044014322f1154"],"tree":"642e9deed324c2e9d9bd87888c99abb15f93023a","author":{"name":"Charles Montgomery Plantagenet Schicklgruber Burns","email":"mr@burns.invalid","timestamp":1762332429,"timezoneOffset":0},"committer":{"name":"Charles Montgomery Plantagenet Schicklgruber Burns","email":"mr@burns.invalid","timestamp":1762332429,"timezoneOffset":0}},"format":"parsed","source":"objects/15/8eb5efceee3403f3720496725ccecff56c3d5d","type":"commit","oid":"158eb5efceee3403f3720496725ccecff56c3d5d"},{"object":{"0":109,"1":111,"2":100,"3":105,"4":102,"5":105,"6":101,"7":100,"8":10},"format":"content","source":"objects/2e/0996000b7e9019eabcad29391bf0f5c7702f0b","type":"blob","oid":"2e0996000b7e9019eabcad29391bf0f5c7702f0b"},{"object":{"0":102,"1":111,"2":111,"3":98,"4":97,"5":114,"6":10},"format":"content","source":"objects/32/3fae03f4606ea9991df8befbb2fca795e648fa","type":"blob","oid":"323fae03f4606ea9991df8befbb2fca795e648fa"},{"object":{"0":104,"1":101,"2":108,"3":108,"4":111,"5":32,"6":119,"7":111,"8":114,"9":108,"10":100,"11":10},"format":"content","source":"objects/3b/18e512dba79e4c8300dd08aeb37f8e728b8dad","type":"blob","oid":"3b18e512dba79e4c8300dd08aeb37f8e728b8dad"},{"object":[{"mode":"040000","path":"folder","oid":"974cd135eb6c4da9d3f14e1de564f76a8a07234e","type":"tree"},{"mode":"100644","path":"myfile.txt","oid":"3b18e512dba79e4c8300dd08aeb37f8e728b8dad","type":"blob"},{"mode":"100644","path":"otherfile.txt","oid":"323fae03f4606ea9991df8befbb2fca795e648fa","type":"blob"}],"format":"parsed","source":"objects/48/6a17fba0168a9242e39931c2b0233ada6a9671","type":"tree","oid":"486a17fba0168a9242e39931c2b0233ada6a9671"},{"object":[{"mode":"040000","path":"to","oid":"deefb5a5e0c43ecf4beb0d8e58f38d13c385897c","type":"tree"}],"format":"parsed","source":"objects/53/d57bf2b32a3056f3b718b441273a35d51854ce","type":"tree","oid":"53d57bf2b32a3056f3b718b441273a35d51854ce"},{"object":[{"mode":"040000","path":"my","oid":"773ff37ea12f7463f4711e243fb356bf4fdd37a4","type":"tree"},{"mode":"100644","path":"newfile.txt","oid":"77f863d7ef03a35f42322002610517163f18a4f6","type":"blob"}],"format":"parsed","source":"objects/64/2e9deed324c2e9d9bd87888c99abb15f93023a","type":"tree","oid":"642e9deed324c2e9d9bd87888c99abb15f93023a"},{"object":[{"mode":"040000","path":"folder","oid":"8209f53524b4818a6d18424613de08c1c6552f11","type":"tree"},{"mode":"100644","path":"myfile.txt","oid":"3b18e512dba79e4c8300dd08aeb37f8e728b8dad","type":"blob"},{"mode":"100644","path":"otherfile.txt","oid":"323fae03f4606ea9991df8befbb2fca795e648fa","type":"blob"}],"format":"parsed","source":"objects/6d/b497f8ca5a8bf50591fd13beb12fc66dff1d31","type":"tree","oid":"6db497f8ca5a8bf50591fd13beb12fc66dff1d31"},{"object":{"message":"Second commit!\n","parent":["02cbc162b0a74f3cbb90c6c7bcf7387b3033015b"],"tree":"486a17fba0168a9242e39931c2b0233ada6a9671","author":{"name":"Charles Montgomery Plantagenet Schicklgruber Burns","email":"mr@burns.invalid","timestamp":1762902000,"timezoneOffset":-780},"committer":{"name":"Charles Montgomery Plantagenet Schicklgruber Burns","email":"mr@burns.invalid","timestamp":1762902000,"timezoneOffset":-780}},"format":"parsed","source":"objects/70/4cad9af4578d8f3248fe4c4e044014322f1154","type":"commit","oid":"704cad9af4578d8f3248fe4c4e044014322f1154"},{"object":[{"mode":"040000","path":"path","oid":"53d57bf2b32a3056f3b718b441273a35d51854ce","type":"tree"}],"format":"parsed","source":"objects/77/3ff37ea12f7463f4711e243fb356bf4fdd37a4","type":"tree","oid":"773ff37ea12f7463f4711e243fb356bf4fdd37a4"},{"object":{"0":110,"1":101,"2":119,"3":45,"4":99,"5":111,"6":110,"7":116,"8":101,"9":110,"10":116,"11":10},"format":"content","source":"objects/77/f863d7ef03a35f42322002610517163f18a4f6","type":"blob","oid":"77f863d7ef03a35f42322002610517163f18a4f6"},{"object":[{"mode":"100644","path":"copy.txt","oid":"3b18e512dba79e4c8300dd08aeb37f8e728b8dad","type":"blob"}],"format":"parsed","source":"objects/82/09f53524b4818a6d18424613de08c1c6552f11","type":"tree","oid":"8209f53524b4818a6d18424613de08c1c6552f11"},{"object":[{"mode":"100644","path":"copy.txt","oid":"2e0996000b7e9019eabcad29391bf0f5c7702f0b","type":"blob"}],"format":"parsed","source":"objects/97/4cd135eb6c4da9d3f14e1de564f76a8a07234e","type":"tree","oid":"974cd135eb6c4da9d3f14e1de564f76a8a07234e"},{"object":[{"mode":"040000","path":"my","oid":"773ff37ea12f7463f4711e243fb356bf4fdd37a4","type":"tree"}],"format":"parsed","source":"objects/cf/cb4ca1dbe0dbcfd99df397d57d2d6fe3853745","type":"tree","oid":"cfcb4ca1dbe0dbcfd99df397d57d2d6fe3853745"},{"object":[{"mode":"100644","path":"file.txt","oid":"2e0996000b7e9019eabcad29391bf0f5c7702f0b","type":"blob"}],"format":"parsed","source":"objects/de/efb5a5e0c43ecf4beb0d8e58f38d13c385897c","type":"tree","oid":"deefb5a5e0c43ecf4beb0d8e58f38d13c385897c"},{"object":{"object":"704cad9af4578d8f3248fe4c4e044014322f1154","type":"commit","tag":"my-important-tag","tagger":{"name":"Charles Montgomery Plantagenet Schicklgruber Burns","email":"mr@burns.invalid","timestamp":1762332442,"timezoneOffset":0},"message":"This is an important commit\n"},"format":"parsed","source":"objects/f2/07b94a58c21c169615ca39570db991922c2341","type":"tag","oid":"f207b94a58c21c169615ca39570db991922c2341"}];
            
            const objects = [
    {
        "object": {
            "message": "My first commit\n",
            "parent": [],
            "tree": "6db497f8ca5a8bf50591fd13beb12fc66dff1d31",
            "author": {
                "name": "Waylon Smithers",
                "email": "mr@smithers.invalid",
                "timestamp": 1762902000,
                "timezoneOffset": -780
            },
            "committer": {
                "name": "Charles Montgomery Plantagenet Schicklgruber Burns",
                "email": "mr@burns.invalid",
                "timestamp": 1762902000,
                "timezoneOffset": -780
            }
        },
        "format": "parsed",
        "source": "objects/02/cbc162b0a74f3cbb90c6c7bcf7387b3033015b",
        "type": "commit",
        "oid": "02cbc162b0a74f3cbb90c6c7bcf7387b3033015b"
    },
    {
        "object": {
            "message": "Third commit\n",
            "parent": [
                "704cad9af4578d8f3248fe4c4e044014322f1154"
            ],
            "tree": "642e9deed324c2e9d9bd87888c99abb15f93023a",
            "author": {
                "name": "Charles Montgomery Plantagenet Schicklgruber Burns",
                "email": "mr@burns.invalid",
                "timestamp": 1762332429,
                "timezoneOffset": 0
            },
            "committer": {
                "name": "Charles Montgomery Plantagenet Schicklgruber Burns",
                "email": "mr@burns.invalid",
                "timestamp": 1762332429,
                "timezoneOffset": 0
            }
        },
        "format": "parsed",
        "source": "objects/15/8eb5efceee3403f3720496725ccecff56c3d5d",
        "type": "commit",
        "oid": "158eb5efceee3403f3720496725ccecff56c3d5d"
    },
    {
        "object": new Uint8Array({
            "0": 109,
            "1": 111,
            "2": 100,
            "3": 105,
            "4": 102,
            "5": 105,
            "6": 101,
            "7": 100,
            "8": 10,
            length: 9
        }),
        "format": "content",
        "source": "objects/2e/0996000b7e9019eabcad29391bf0f5c7702f0b",
        "type": "blob",
        "oid": "2e0996000b7e9019eabcad29391bf0f5c7702f0b"
    },
    {
        "object": new Uint8Array({
            "0": 102,
            "1": 111,
            "2": 111,
            "3": 98,
            "4": 97,
            "5": 114,
            "6": 10,
            length: 7
        }),
        "format": "content",
        "source": "objects/32/3fae03f4606ea9991df8befbb2fca795e648fa",
        "type": "blob",
        "oid": "323fae03f4606ea9991df8befbb2fca795e648fa"
    },
    {
        "object": new Uint8Array({
            "0": 104,
            "1": 101,
            "2": 108,
            "3": 108,
            "4": 111,
            "5": 32,
            "6": 119,
            "7": 111,
            "8": 114,
            "9": 108,
            "10": 100,
            "11": 10,
            length: 12,
        }),
        "format": "content",
        "source": "objects/3b/18e512dba79e4c8300dd08aeb37f8e728b8dad",
        "type": "blob",
        "oid": "3b18e512dba79e4c8300dd08aeb37f8e728b8dad"
    },
    {
        "object": [
            {
                "mode": "040000",
                "path": "folder",
                "oid": "974cd135eb6c4da9d3f14e1de564f76a8a07234e",
                "type": "tree"
            },
            {
                "mode": "100644",
                "path": "myfile.txt",
                "oid": "3b18e512dba79e4c8300dd08aeb37f8e728b8dad",
                "type": "blob"
            },
            {
                "mode": "100644",
                "path": "otherfile.txt",
                "oid": "323fae03f4606ea9991df8befbb2fca795e648fa",
                "type": "blob"
            }
        ],
        "format": "parsed",
        "source": "objects/48/6a17fba0168a9242e39931c2b0233ada6a9671",
        "type": "tree",
        "oid": "486a17fba0168a9242e39931c2b0233ada6a9671"
    },
    {
        "object": [
            {
                "mode": "040000",
                "path": "to",
                "oid": "deefb5a5e0c43ecf4beb0d8e58f38d13c385897c",
                "type": "tree"
            }
        ],
        "format": "parsed",
        "source": "objects/53/d57bf2b32a3056f3b718b441273a35d51854ce",
        "type": "tree",
        "oid": "53d57bf2b32a3056f3b718b441273a35d51854ce"
    },
    {
        "object": [
            {
                "mode": "040000",
                "path": "my",
                "oid": "773ff37ea12f7463f4711e243fb356bf4fdd37a4",
                "type": "tree"
            },
            {
                "mode": "100644",
                "path": "newfile.txt",
                "oid": "77f863d7ef03a35f42322002610517163f18a4f6",
                "type": "blob"
            }
        ],
        "format": "parsed",
        "source": "objects/64/2e9deed324c2e9d9bd87888c99abb15f93023a",
        "type": "tree",
        "oid": "642e9deed324c2e9d9bd87888c99abb15f93023a"
    },
    {
        "object": [
            {
                "mode": "040000",
                "path": "folder",
                "oid": "8209f53524b4818a6d18424613de08c1c6552f11",
                "type": "tree"
            },
            {
                "mode": "100644",
                "path": "myfile.txt",
                "oid": "3b18e512dba79e4c8300dd08aeb37f8e728b8dad",
                "type": "blob"
            },
            {
                "mode": "100644",
                "path": "otherfile.txt",
                "oid": "323fae03f4606ea9991df8befbb2fca795e648fa",
                "type": "blob"
            }
        ],
        "format": "parsed",
        "source": "objects/6d/b497f8ca5a8bf50591fd13beb12fc66dff1d31",
        "type": "tree",
        "oid": "6db497f8ca5a8bf50591fd13beb12fc66dff1d31"
    },
    {
        "object": {
            "message": "Second commit!\n",
            "parent": [
                "02cbc162b0a74f3cbb90c6c7bcf7387b3033015b"
            ],
            "tree": "486a17fba0168a9242e39931c2b0233ada6a9671",
            "author": {
                "name": "Charles Montgomery Plantagenet Schicklgruber Burns",
                "email": "mr@burns.invalid",
                "timestamp": 1762902000,
                "timezoneOffset": -780
            },
            "committer": {
                "name": "Charles Montgomery Plantagenet Schicklgruber Burns",
                "email": "mr@burns.invalid",
                "timestamp": 1762902000,
                "timezoneOffset": -780
            }
        },
        "format": "parsed",
        "source": "objects/70/4cad9af4578d8f3248fe4c4e044014322f1154",
        "type": "commit",
        "oid": "704cad9af4578d8f3248fe4c4e044014322f1154"
    },
    {
        "object": [
            {
                "mode": "040000",
                "path": "path",
                "oid": "53d57bf2b32a3056f3b718b441273a35d51854ce",
                "type": "tree"
            }
        ],
        "format": "parsed",
        "source": "objects/77/3ff37ea12f7463f4711e243fb356bf4fdd37a4",
        "type": "tree",
        "oid": "773ff37ea12f7463f4711e243fb356bf4fdd37a4"
    },
    {
        "object": new Uint8Array({
            "0": 110,
            "1": 101,
            "2": 119,
            "3": 45,
            "4": 99,
            "5": 111,
            "6": 110,
            "7": 116,
            "8": 101,
            "9": 110,
            "10": 116,
            "11": 10,
            length: 12
        }),
        "format": "content",
        "source": "objects/77/f863d7ef03a35f42322002610517163f18a4f6",
        "type": "blob",
        "oid": "77f863d7ef03a35f42322002610517163f18a4f6"
    },
    {
        "object": [
            {
                "mode": "100644",
                "path": "copy.txt",
                "oid": "3b18e512dba79e4c8300dd08aeb37f8e728b8dad",
                "type": "blob"
            }
        ],
        "format": "parsed",
        "source": "objects/82/09f53524b4818a6d18424613de08c1c6552f11",
        "type": "tree",
        "oid": "8209f53524b4818a6d18424613de08c1c6552f11"
    },
    {
        "object": [
            {
                "mode": "100644",
                "path": "copy.txt",
                "oid": "2e0996000b7e9019eabcad29391bf0f5c7702f0b",
                "type": "blob"
            }
        ],
        "format": "parsed",
        "source": "objects/97/4cd135eb6c4da9d3f14e1de564f76a8a07234e",
        "type": "tree",
        "oid": "974cd135eb6c4da9d3f14e1de564f76a8a07234e"
    },
    {
        "object": [
            {
                "mode": "040000",
                "path": "my",
                "oid": "773ff37ea12f7463f4711e243fb356bf4fdd37a4",
                "type": "tree"
            }
        ],
        "format": "parsed",
        "source": "objects/cf/cb4ca1dbe0dbcfd99df397d57d2d6fe3853745",
        "type": "tree",
        "oid": "cfcb4ca1dbe0dbcfd99df397d57d2d6fe3853745"
    },
    {
        "object": [
            {
                "mode": "100644",
                "path": "file.txt",
                "oid": "2e0996000b7e9019eabcad29391bf0f5c7702f0b",
                "type": "blob"
            }
        ],
        "format": "parsed",
        "source": "objects/de/efb5a5e0c43ecf4beb0d8e58f38d13c385897c",
        "type": "tree",
        "oid": "deefb5a5e0c43ecf4beb0d8e58f38d13c385897c"
    },
    {
        "object": {
            "object": "704cad9af4578d8f3248fe4c4e044014322f1154",
            "type": "commit",
            "tag": "my-important-tag",
            "tagger": {
                "name": "Charles Montgomery Plantagenet Schicklgruber Burns",
                "email": "mr@burns.invalid",
                "timestamp": 1762332442,
                "timezoneOffset": 0
            },
            "message": "This is an important commit\n"
        },
        "format": "parsed",
        "source": "objects/f2/07b94a58c21c169615ca39570db991922c2341",
        "type": "tag",
        "oid": "f207b94a58c21c169615ca39570db991922c2341"
    }
];

            const refs = [{"ref":"HEAD","target":"ref: refs/heads/master"},{"ref":"refs/heads/master","target":"158eb5efceee3403f3720496725ccecff56c3d5d"},{"ref":"refs/heads/story","target":"02cbc162b0a74f3cbb90c6c7bcf7387b3033015b"},{"ref":"refs/tags/my-important-tag","target":"f207b94a58c21c169615ca39570db991922c2341"},{"ref":"refs/tags/mytag","target":"704cad9af4578d8f3248fe4c4e044014322f1154"}];
            
            const indexEntries = [{"oid":"2e0996000b7e9019eabcad29391bf0f5c7702f0b","path":"my/path/to/file.txt"},{"oid":"77f863d7ef03a35f42322002610517163f18a4f6","path":"newfile.txt"}];

            const elk = new ELK({
                defaultLayoutOptions: {
                    "elk.portConstraints": "FIXED_SIDE",
                }
            });

            (async () => {
                await visualize(objects, elk, refs, indexEntries);
            })();
        </script>
    </body>
</html>